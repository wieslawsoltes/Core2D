<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <OutputType>Library</OutputType>
    <IsPackable>False</IsPackable>
    <Nullable>enable</Nullable>
    <NoWarn>$(NoWarn);NU1701</NoWarn>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
    <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\GeneratedFiles</CompilerGeneratedFilesOutputPath>
    <DisableImplicitNamespaceImports>True</DisableImplicitNamespaceImports>
    <RootNamespace>Core2D</RootNamespace>
  </PropertyGroup>

  <PropertyGroup>
    <PackageId>Core2D</PackageId>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
  </PropertyGroup>

  <PropertyGroup>
    <PublishAot>False</PublishAot>
    <PublishTrimmed>True</PublishTrimmed>
    <PublishSingleFile>False</PublishSingleFile>
    <PublishReadyToRun>True</PublishReadyToRun>
  </PropertyGroup>

  <ItemGroup>
    <AvaloniaResource Include="Assets\**" />
  </ItemGroup>

  <ItemGroup>
    <Compile Remove="Model\**\*.cs" />
    <Compile Remove="ViewModels\**\*.cs" />
    <Compile Remove="Spatial\**\*.cs" />
    <Compile Remove="Modules\**\*.cs" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Dock.Avalonia.Themes.Fluent" />
    <PackageReference Include="Microsoft.NETFramework.ReferenceAssemblies" PrivateAssets="All" />
    <PackageReference Include="System.Reactive" />
    <PackageReference Include="System.Text.Encoding.CodePages" />
    <PackageReference Include="Avalonia" />
    <PackageReference Include="Avalonia.Themes.Fluent" />
    <PackageReference Include="Avalonia.Fonts.Inter" />
    <PackageReference Include="Avalonia.Controls.DataGrid" />
    <PackageReference Include="Avalonia.Diagnostics" Condition="'$(Configuration)' == 'Debug'" />
    <PackageReference Include="Avalonia.Skia" />
    <PackageReference Include="Avalonia.Desktop" />
    <PackageReference Include="Xaml.Behaviors.Avalonia" />
    <PackageReference Include="PanAndZoom" />
    <PackageReference Include="ThemeEditor.Controls.ColorPicker" />
    <PackageReference Include="Dock.Avalonia" />
    <PackageReference Include="Dock.Model.MVVM" />
    <PackageReference Include="CommunityToolkit.Mvvm" />
    <PackageReference Include="System.Drawing.Common" />
    <PackageReference Include="Newtonsoft.Json" />
    <PackageReference Include="StaticViewLocator">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
    </PackageReference>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Core2D.Generators\Core2D.Generators.csproj" OutputItemType="Analyzer" ReferenceOutputAssembly="false" />
    <ProjectReference Include="..\Core2D.Spatial\Core2D.Spatial.csproj" />
    <ProjectReference Include="..\Core2D.ViewModels\Core2D.ViewModels.csproj" />
    <ProjectReference Include="..\Core2D.Modules.FileSystem\Core2D.Modules.FileSystem.csproj" />
    <ProjectReference Include="..\Core2D.Modules.FileWriter\Core2D.Modules.FileWriter.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Log\Core2D.Modules.Log.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.Avalonia\Core2D.Modules.Renderer.Avalonia.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.Dwg\Core2D.Modules.Renderer.Dwg.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.PdfSharp\Core2D.Modules.Renderer.PdfSharp.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.SkiaSharp\Core2D.Modules.Renderer.SkiaSharp.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.OpenXml\Core2D.Modules.Renderer.OpenXml.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.SparseStrips\Core2D.Modules.Renderer.SparseStrips.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.VelloSharp\Core2D.Modules.Renderer.VelloSharp.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Renderer.Wmf\Core2D.Modules.Renderer.Wmf.csproj" />
    <ProjectReference Include="..\Core2D.Modules.ScriptRunner\Core2D.Modules.ScriptRunner.csproj" />
    <ProjectReference Include="..\Core2D.Modules.Serializer\Core2D.Modules.Serializer.csproj" />
    <ProjectReference Include="..\Core2D.Modules.SvgExporter\Core2D.Modules.SvgExporter.csproj" />
    <ProjectReference Include="..\Core2D.Modules.TextFieldReader\Core2D.Modules.TextFieldReader.csproj" />
    <ProjectReference Include="..\Core2D.Modules.TextFieldWriter\Core2D.Modules.TextFieldWriter.csproj" />
    <ProjectReference Include="..\Core2D.Modules.XamlExporter\Core2D.Modules.XamlExporter.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Reference Include="Avalonia.Markup.Xaml">
      <HintPath>$(PkgAvalonia)/lib/net8.0/Avalonia.Markup.Xaml.dll</HintPath>
    </Reference>
  </ItemGroup>

</Project>
